var cooked_loading=!1;!function(p){$_Cooked_Ingredient_Boxes=p(".cooked-ingredient-checkbox"),$_Cooked_Fotorama=p(".cooked-recipe-gallery"),$_Cooked_Masonry=p(".cooked-masonry"),$_Cooked_Ajax_List=p(".cooked-recipe-loader"),$_Cooked_Recipe_Search=p(".cooked-recipe-search"),$_Cooked_Timers=p(".cooked-timer > a"),$_Cooked_FSM_Button=p(".cooked-fsm-button"),$_Cooked_Fotorama.length&&$_Cooked_Fotorama.on("fotorama:ready",function(e,o){setTimeout(function(){$_Cooked_Fotorama.addClass("cooked-gallery-loaded")},100)}),p(document).ready(function(){if($_Cooked_Fotorama.length&&$_Cooked_Fotorama.fotorama(),$_Cooked_Ingredient_Boxes.length){function a(e){e.on("click",function(e){var o=p(this);o.hasClass("cooked-checked")?(o.parent().removeClass("cooked-checked"),o.removeClass("cooked-checked")):(o.parent().addClass("cooked-checked"),o.addClass("cooked-checked"))})}a($_Cooked_Ingredient_Boxes)}if(p(".cooked-servings").length){var c=p(".cooked-servings").find("select");c.on("change",function(e){e.preventDefault();var o=c.find("option:selected").val();window.location=o})}if($_Cooked_Recipe_Search.length){p("body").on("click",function(e){var o=!1;0<p(".cooked-browse-select").has(e.target).length?o=p(e.target).parents(".cooked-browse-select"):p(e.target).hasClass("cooked-browse-select")&&(o=p(e.target)),o?o.hasClass("cooked-active")&&p(e.target).hasClass("cooked-browse-select")||o.hasClass("cooked-active")&&p(e.target).hasClass("cooked-field-title")?o.removeClass("cooked-active"):o.addClass("cooked-active"):p(".cooked-browse-select").removeClass("cooked-active")});var o=p(".cooked-browse-search-button");o.on("click",function(e){e.preventDefault(),o.parents("form").trigger("submit")})}function t(e){e.on("click",function(e){e.preventDefault();var o,c,d=p(this),i="cookedTimer-"+d.data("timer-id"),s=p("#cooked-timers-wrap").find(".cooked-timer-block").length;if(p("div#"+i).length)return p("div#"+i).css({background:"#eeeeee"}),void setTimeout(function(){p("div#"+i).css({background:""})},200);if(4==s)return p("#cooked-timers-wrap").css({transform:"translate3d(0,0.5em,0)"}),void setTimeout(function(){p("#cooked-timers-wrap").css({transform:""})},200);if(c=7.5*(s+=1),d.parents(".cooked-single-direction").length)var a=d.parents(".cooked-single-direction").data("step");else a=cooked_js_vars.i18n_timer;var t=i,n=d.data("seconds"),r=a,k=d.data("desc");p("#cooked-timers-wrap").length?(o=1==s?" cooked-visible":"",m<s?p("#cooked-timers-wrap").addClass("cooked-multiples"):p("#cooked-timers-wrap").removeClass("cooked-multiples"),p("#cooked-timers-wrap").addClass("cooked-visible"),p("#cooked-timers-wrap").append('<div id="'+t+'" class="cooked-timer-block'+o+'"><span class="cooked-timer-step">'+r+'</span><span class="cooked-timer-desc">'+k+'</span><div class="cooked-timer-obj" data-seconds-left="'+n+'"></div><i class="cooked-icon cooked-icon-times"></i><div class="cooked-progress"><span></span></div></div>'),l(p("#"+t).find(".cooked-timer-obj"),!1),setTimeout(function(){p("#cooked-timers-wrap").css({height:c+"em"}),p(".cooked-timer-block").addClass("cooked-visible")},50)):(p("body").append('<div id="cooked-timers-wrap"><div id="'+t+'" class="cooked-timer-block cooked-visible"><span class="cooked-timer-step">'+r+'</span><span class="cooked-timer-desc">'+k+'</span><div class="cooked-timer-obj" data-seconds-left="'+n+'"></div><i class="cooked-icon cooked-icon-times"></i><div class="cooked-progress"><span></span></div></div></div>'),l(p("#"+t).find(".cooked-timer-obj"),!1),setTimeout(function(){p("#cooked-timers-wrap").addClass("cooked-visible")},50))})}function l(o,e){var c=o.parents(".cooked-timer-block").attr("id"),d=o.data("seconds-left"),i=o.parents(".cooked-timer-block");o.startTimer({classNames:{hours:"cooked-timer-hours",minutes:"cooked-timer-minutes",seconds:"cooked-timer-seconds",clearDiv:"cooked-timer-clearDiv",timeout:"cooked-timer-timeout"},onComplete:function(){o.addClass("cooked-timer-complete")}}),o.prepend('<i class="cooked-icon cooked-icon-reverse"></i><i class="cooked-icon cooked-icon-pause"></i><i class="cooked-icon cooked-icon-play"></i>'),e&&(o.trigger("pause"),i.addClass("cooked-paused"),i.find("i.cooked-icon-pause").hide(),i.find("i.cooked-icon-play").css({display:"inline-block"}),i.addClass("cooked-paused"),p(this).parent().find("i.cooked-icon-play").css({display:"inline-block"})),s(i,10,10),o.on("update",function(e,o){s(i,o,d)}),o.on("complete",function(e,o){i.find("i.cooked-icon-pause").hide(),i.find("i.cooked-icon-play").hide(),i.find(".cooked-timer-seconds").html("00")}),o.on("click","i.cooked-icon-pause",function(e){e.preventDefault(),p(this).hide(),i.addClass("cooked-paused"),p(this).parent().find("i.cooked-icon-play").css({display:"inline-block"}),o.trigger("pause")}),o.on("click","i.cooked-icon-play",function(e){e.preventDefault(),p(this).hide(),i.removeClass("cooked-paused cooked-complete"),p(this).parent().find("i.cooked-icon-pause").css({display:"inline-block"}),o.trigger("resume")}),o.on("click","i.cooked-icon-reverse",function(e){e.preventDefault(),i.removeClass("cooked-paused cooked-complete"),p(this).parent().find("i.cooked-icon-play").css({display:"inline-block"}),p(this).parent().find("i.cooked-icon-pause").hide(),o.remove(),p("#"+c).append('<div class="cooked-timer-obj" data-seconds-left="'+d+'"></div>'),l(p("#"+c).find(".cooked-timer-obj"),!0)}),i.on("click","i.cooked-icon-times",function(e){if(e.preventDefault(),1==p("#cooked-timers-wrap").find(".cooked-timer-block").length)p("#cooked-timers-wrap").removeClass("cooked-visible");else{var o=p("#cooked-timers-wrap").find(".cooked-timer-block").length-1,c=7.5*o;p("#cooked-timers-wrap").css({height:c+"em"}),i.removeClass("cooked-visible"),o==m&&p("#cooked-timers-wrap").removeClass("cooked-multiples")}setTimeout(function(){i.remove()},200)})}function s(e,o,c){var d=100-o/c*100;e.find(".cooked-progress > span").css({width:d+"%"}),100<=d&&e.addClass("cooked-complete")}if($_Cooked_Ajax_List.length&&$_Cooked_Ajax_List.imagesLoaded(function(){var e,o=0,c=$_Cooked_Ajax_List.find(".cooked-recipe"),d=$_Cooked_Ajax_List.find(".cooked-recipe").length,i=setInterval(function(){e=c[o++],p(e).addClass("cooked-recipe-loaded"),d<=o&&clearInterval(i)},50)}),$_Cooked_Masonry.length&&$_Cooked_Masonry.imagesLoaded(function(){$_Cooked_Masonry.masonry({itemSelector:".cooked-recipe",transitionDuration:0})}),$_Cooked_Timers.length){var m=1;t($_Cooked_Timers)}$_Cooked_FSM_Button.length&&($_Cooked_FSM_Button.on("click",function(e){e.preventDefault();var o=p(this).data("recipe-id"),c=p('.cooked-fsm[data-recipe-id="'+o+'"]');p("body").addClass("cooked-noscroll cooked-fsm-active");var d=c.clone().appendTo("body");setTimeout(function(){d.addClass("cooked-visible")},10),setTimeout(function(){d.addClass("cooked-active")},50);var i=d.find(".cooked-timer > a"),s=d.find(".cooked-ingredient-checkbox");t(i),a(s),d.on("click",".cooked-close-fsm",function(e){e.preventDefault(),d.removeClass("cooked-active"),p("body").removeClass("cooked-noscroll cooked-fsm-active"),setTimeout(function(){d.remove()},350)})}),p("body").on("click",".cooked-fsm-mobile-nav > a",function(e){e.preventDefault();var o=p(this),c=o.data("nav-id"),d=o.parents(".cooked-fsm");d.find(".cooked-fsm-mobile-nav > a").removeClass("cooked-active"),d.find(".cooked-fsm-content").removeClass("cooked-active"),o.addClass("cooked-active"),d.find(".cooked-fsm-content.cooked-fsm-"+c).addClass("cooked-active")}))})}(jQuery);